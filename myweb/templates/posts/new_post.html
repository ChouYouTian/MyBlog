{% extends "base.html"%}

{% block content%}


<form>
    <label class="form-control-label" for="title">Title</label>
    <input id="title" name="title" class="form-control form-control-lg" required type="text">
</form>
<label class="form-control-label" >Content</label>
<div id="summernote"></div>

<button id='btnpost' class="btn btn-outline-info">Post</button>
<button id='btndraft' class="btn btn-outline-info">Draft</button>


<link href="../static/summernote/summernote-lite.css" rel="stylesheet">
<script src="../static/summernote/summernote-lite.js"></script>

<script>
    $(document).ready(function() {

        $('#summernote').summernote({
            placeholder: 'Say something here~~',
            height: 200,
    
            callbacks: {
                onImageUpload: function(files) {
                    imgurl=uploadImage(files[0]);
                    imgname=files[0]['name'];
            
                    $('#summernote').summernote('insertImage', imgurl, imgname);

                }
            }
        });
    });

    const postButton = document.getElementById('btnpost');
    const draftButton = document.getElementById('btndraft');

    postButton.addEventListener('click', ()=>{
        post_form('post','/post_new');

    },false);
    draftButton.addEventListener('click', ()=>{
        post_form('draft','/post_new');

    },false);


</script>
<script src="../static/post.js"></script>


{% endblock content%}